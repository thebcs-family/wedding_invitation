"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[578],{578:(e,t,n)=>{n.r(t),n.d(t,{default:()=>j});var a=n(5155),r=n(2115),s=n(3967),l=n(7558),o=n(3264),i=n(6166),c=n(9957),u=n(4688),h=n(7777);let p={korea:{lat:36.3504,lng:127.3845,color:"#ff4d4d"},bolivia:{lat:-16.4897,lng:-68.1193,color:"#4dff4d"},italy:{lat:44.4949,lng:11.3426,color:"#4d4dff"}},d=(e,t,n)=>{let a=Math.PI/180*(90-e),r=Math.PI/180*(t+180),s=-(n*Math.sin(a)*Math.cos(r)),l=n*Math.sin(a)*Math.sin(r),i=n*Math.cos(a);return new o.Pq0(s,i,l)};function m(){let{progress:e}=(0,i.p)();return(0,a.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-transparent",children:(0,a.jsxs)("div",{className:"text-gray-700 text-xl",children:["Loading... ",Math.round(e),"%"]})})}function g(e){let{content:t,isBehind:n}=e;return(0,a.jsx)("div",{className:"bg-white p-2 rounded-lg shadow-lg whitespace-nowrap transform transition-all duration-300 ".concat(n?"opacity-50 scale-90":"opacity-100 scale-100"),children:(0,a.jsx)("div",{className:"text-sm font-medium text-gray-800",children:t})})}function x(e){let{position:t,color:n,name:l,isHovered:i,onClick:u,tooltipContent:h,cameraPosition:p}=e,d=(0,r.useRef)(null),m=(0,r.useRef)(null),[x,f]=(0,r.useState)(!1);return(0,s.C)(e=>{let{camera:n,clock:a}=e;m.current&&m.current.scale.setScalar(1+.1*Math.sin(2*a.getElapsedTime()));let r=new o.Pq0().copy(t),s=new o.Pq0().subVectors(n.position,new o.Pq0(0,0,0)).normalize(),l=new o.Pq0().subVectors(r,new o.Pq0(0,0,0)).normalize();f(0>s.dot(l))}),(0,a.jsxs)("group",{position:t,onClick:u,children:[(0,a.jsxs)("mesh",{ref:d,children:[(0,a.jsx)("sphereGeometry",{args:[.02,16,16]}),(0,a.jsx)("meshBasicMaterial",{color:n})]}),(0,a.jsxs)("mesh",{ref:m,children:[(0,a.jsx)("sphereGeometry",{args:[.03,16,16]}),(0,a.jsx)("meshBasicMaterial",{color:n,transparent:!0,opacity:x?.6:.3})]}),(0,a.jsx)(c.E,{center:!0,position:[0,.1,0],children:(0,a.jsx)(g,{content:h,isBehind:x})})]})}function f(e){let{language:t,onLocationClick:n}=e,l=(0,r.useRef)(null),i=(0,r.useRef)(null),c=(0,r.useRef)(null),[u,m]=(0,r.useState)(null),{t:g}=(0,h.Bd)(t),[f,j,y,b]=(0,s.F)(o.Tap,["/images/earth_daymap.jpg","/images/earth_normal.jpg","/images/earth_specular.jpg","/images/earth_clouds.png"]);return(0,r.useEffect)(()=>{f&&j&&y&&b&&(f.colorSpace=o.er$,j.colorSpace=o.jf0,y.colorSpace=o.jf0,b.colorSpace=o.er$)},[f,j,y,b]),(0,s.C)(e=>{let{clock:t}=e;if(i.current&&l.current&&c.current){let e=t.getElapsedTime(),n=.1*Math.sin(.2*e),a=.02*Math.sin(.15*e),r=.02*Math.cos(.1*e);i.current.rotation.y=.04*e+n,i.current.rotation.x=a,i.current.rotation.z=r;let s=.05*e;l.current.rotation.y=s,c.current.rotation.y=s}}),(0,a.jsxs)("group",{children:[(0,a.jsxs)("mesh",{ref:l,children:[(0,a.jsx)("sphereGeometry",{args:[1,64,64]}),(0,a.jsx)("meshPhongMaterial",{map:f,normalMap:j,normalScale:[.5,.5],specularMap:y,shininess:5,bumpMap:j,bumpScale:.05})]}),(0,a.jsxs)("mesh",{ref:i,children:[(0,a.jsx)("sphereGeometry",{args:[1.01,64,64]}),(0,a.jsx)("meshPhongMaterial",{map:b,transparent:!0,opacity:.3,depthWrite:!1,blending:o.EZo})]}),(0,a.jsx)("group",{ref:c,children:Object.entries(p).map(e=>{let[t,r]=e,s=d(r.lat,r.lng,1.01),l=g.locations[t].title;return(0,a.jsx)(x,{position:s,color:r.color,name:t,isHovered:u===t,onClick:()=>null==n?void 0:n(t),onPointerEnter:()=>m(t),onPointerLeave:()=>m(null),tooltipContent:l},t)})})]})}function j(e){let{language:t,onLocationClick:n}=e,[s,o]=(0,r.useState)(!1);return((0,r.useEffect)(()=>{o(!0)},[]),s)?(0,a.jsx)("div",{className:"h-[600px] w-full bg-transparent rounded-lg overflow-hidden",children:(0,a.jsx)(r.Suspense,{fallback:(0,a.jsx)(m,{}),children:(0,a.jsxs)(l.Hl,{camera:{position:[0,0,2.2],fov:60},gl:{alpha:!0,antialias:!0},children:[(0,a.jsx)("color",{attach:"background",args:["transparent"]}),(0,a.jsx)("ambientLight",{intensity:1.5}),(0,a.jsx)("pointLight",{position:[10,10,10],intensity:1.5}),(0,a.jsx)("pointLight",{position:[-10,-10,-10],intensity:.5}),(0,a.jsx)(f,{language:t,onLocationClick:n}),(0,a.jsx)(u.N,{enableZoom:!1,enablePan:!1,rotateSpeed:.5,autoRotate:!1,minPolarAngle:0,maxPolarAngle:Math.PI,enableRotate:!0,dampingFactor:.05})]})})}):(0,a.jsx)("div",{className:"h-[600px] w-full bg-transparent rounded-lg overflow-hidden flex items-center justify-center",children:(0,a.jsx)("div",{className:"text-gray-700 text-xl",children:"Loading..."})})}}}]);