"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[578],{578:(l,t,n)=>{n.r(t),n.d(t,{default:()=>P});var a=n(5155),e=n(9137),r=n.n(e),o=n(2115),g=n(544),i=n(7558),s=n(3264),c=n(8842),u=n(9957),h=n(4688),d=n(7777),p=n(1568);let m={korea:{lat:36.3504,lng:127.3845,color:"#ff4d4d"},bolivia:{lat:-16.4897,lng:-68.1193,color:"#4dff4d"},italy:{lat:44.4949,lng:11.3426,color:"#4d4dff"}},f=(l,t,n)=>{let a=Math.PI/180*(90-l),e=Math.PI/180*(t+180),r=-(n*Math.sin(a)*Math.cos(e)),o=n*Math.sin(a)*Math.sin(e),g=n*Math.cos(a);return new s.Pq0(r,g,o)},x=(l,t,n,a)=>{let e=(n-l)*Math.PI/180,r=(a-t)*Math.PI/180,o=Math.sin(e/2)*Math.sin(e/2)+Math.cos(l*Math.PI/180)*Math.cos(n*Math.PI/180)*Math.sin(r/2)*Math.sin(r/2);return Math.round(2*Math.atan2(Math.sqrt(o),Math.sqrt(1-o))*6371)};function M(l){let{locations:t}=l,n=(0,o.useRef)(null),e=(0,o.useRef)(null);(0,g.C)(l=>{let{clock:t}=l;n.current&&(n.current.rotation.y=.05*t.getElapsedTime()),e.current&&(e.current.uniforms.time.value=t.getElapsedTime())});let r=Object.entries(t),i=[],u=[];for(let l=0;l<r.length;l++)for(let t=l+1;t<r.length;t++){let n=function(l,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1.01,a=[],e=new s.Pq0().addVectors(l,t).multiplyScalar(.5);e.length(),e.normalize().multiplyScalar(n+.15);for(let r=0;r<=50;r++){let o=r/50,g=new s.Pq0;g.x=Math.pow(1-o,2)*l.x+2*(1-o)*o*e.x+Math.pow(o,2)*t.x,g.y=Math.pow(1-o,2)*l.y+2*(1-o)*o*e.y+Math.pow(o,2)*t.y,g.z=Math.pow(1-o,2)*l.z+2*(1-o)*o*e.z+Math.pow(o,2)*t.z;let i=g.length();g.multiplyScalar(n/i),a.push(g)}return a}(f(r[l][1].lat,r[l][1].lng,1.01),f(r[t][1].lat,r[t][1].lng,1.01));i.push(n);let a=x(r[l][1].lat,r[l][1].lng,r[t][1].lat,r[t][1].lng),e=new s.B6O(n);u.push({points:n,distance:a,curve:e})}let h={uniforms:{time:{value:0},color1:{value:new s.Q1f("#ff4d4d")},color2:{value:new s.Q1f("#4dff4d")},color3:{value:new s.Q1f("#4d4dff")}},vertexShader:"\n      varying vec2 vUv;\n      void main() {\n        vUv = uv;\n        gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n      }\n    ",fragmentShader:"\n      uniform float time;\n      uniform vec3 color1;\n      uniform vec3 color2;\n      uniform vec3 color3;\n      varying vec2 vUv;\n      \n      void main() {\n        float t = mod(time * 0.1, 1.0);\n        vec3 color;\n        \n        if (t < 0.33) {\n          color = mix(color1, color2, t * 3.0);\n        } else if (t < 0.66) {\n          color = mix(color2, color3, (t - 0.33) * 3.0);\n        } else {\n          color = mix(color3, color1, (t - 0.66) * 3.0);\n        }\n        \n        gl_FragColor = vec4(color, 0.7);\n      }\n    "};return(0,a.jsxs)("group",{ref:n,children:[i.map((l,t)=>(0,a.jsxs)("line",{children:[(0,a.jsxs)("bufferGeometry",{children:[(0,a.jsx)("bufferAttribute",{attach:"attributes-position",count:l.length,array:new Float32Array(l.flatMap(l=>[l.x,l.y,l.z])),itemSize:3}),(0,a.jsx)("bufferAttribute",{attach:"attributes-uv",count:l.length,array:new Float32Array(l.map((t,n)=>[n/(l.length-1),0]).flat()),itemSize:2})]}),(0,a.jsx)("shaderMaterial",{ref:e,attach:"material",args:[h],transparent:!0,linewidth:3})]},t)),u.map((l,t)=>{let{points:n,distance:e,curve:r}=l,o=n[Math.floor(n.length/2)],g=r.getTangent(.5),i=o.clone().normalize(),u=new s.Pq0().crossVectors(g,i).normalize(),h=new s.Pq0().crossVectors(i,u).normalize(),d=new s.kn4;d.makeBasis(h,i,u);let p=new s.PTz().setFromRotationMatrix(d),m=o.clone().normalize().multiplyScalar(1.02),f=e<1e4?[-Math.PI/2,0,Math.PI]:[-Math.PI/2,0,0];return(0,a.jsx)("group",{position:m,quaternion:p,children:(0,a.jsx)(c.E,{position:[0,0,0],rotation:f,fontSize:.08,color:"white",anchorX:"center",anchorY:"middle",outlineWidth:.003,outlineColor:"#000000",outlineBlur:.003,renderOrder:1,children:"".concat(e," km")})},"distance-".concat(t))})]})}function w(l){let{content:t,isBehind:n,isDaejeon:e,onClick:o}=l;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(r(),{id:"6b0b96cc56ab2641",children:"@-webkit-keyframes glow{0%,100%{text-shadow:0 0 10px rgba(239,68,68,.5)}50%{text-shadow:0 0 20px rgba(239,68,68,.8)}}@-moz-keyframes glow{0%,100%{text-shadow:0 0 10px rgba(239,68,68,.5)}50%{text-shadow:0 0 20px rgba(239,68,68,.8)}}@-o-keyframes glow{0%,100%{text-shadow:0 0 10px rgba(239,68,68,.5)}50%{text-shadow:0 0 20px rgba(239,68,68,.8)}}@keyframes glow{0%,100%{text-shadow:0 0 10px rgba(239,68,68,.5)}50%{text-shadow:0 0 20px rgba(239,68,68,.8)}}"}),(0,a.jsx)("div",{onClick:o,className:"jsx-6b0b96cc56ab2641 "+"bg-white p-2 rounded-lg shadow-lg whitespace-nowrap transform transition-all duration-300 cursor-pointer ".concat(n?"opacity-50 scale-90":"opacity-100 scale-100"," ").concat(e?"border-2 border-red-500":""),children:(0,a.jsx)("div",{className:"jsx-6b0b96cc56ab2641 "+"text-sm font-medium ".concat(e?"text-red-500 animate-[glow_2s_ease-in-out_infinite]":"text-gray-800"),children:t})})]})}function j(l){let{position:t,color:n,name:e,isHovered:r,onClick:i,tooltipContent:c,cameraPosition:h}=l,d=(0,o.useRef)(null),p=(0,o.useRef)(null),[m,f]=(0,o.useState)(!1),x="korea"===e;return(0,g.C)(l=>{let{camera:n,clock:a}=l;if(p.current)if(x){let l=1+.3*Math.sin(3*a.getElapsedTime());p.current.scale.setScalar(l)}else p.current.scale.setScalar(1+.1*Math.sin(2*a.getElapsedTime()));let e=new s.Pq0().copy(t),r=new s.Pq0().subVectors(n.position,new s.Pq0(0,0,0)).normalize(),o=new s.Pq0().subVectors(e,new s.Pq0(0,0,0)).normalize();f(0>r.dot(o))}),(0,a.jsxs)("group",{position:t,onClick:i,children:[(0,a.jsxs)("mesh",{ref:d,children:[(0,a.jsx)("sphereGeometry",{args:[.02,16,16]}),(0,a.jsx)("meshBasicMaterial",{color:n})]}),(0,a.jsxs)("mesh",{ref:p,children:[(0,a.jsx)("sphereGeometry",{args:[.03,16,16]}),(0,a.jsx)("meshBasicMaterial",{color:n,transparent:!0,opacity:m?.6:.3})]}),(0,a.jsx)(u.E,{center:!0,position:[0,.1,0],children:(0,a.jsx)(w,{content:c,isBehind:m,isDaejeon:x,onClick:i})})]})}function y(l){let{position:t,count:n,isBehind:e,countryCode:r}=l,o=["KR","BO","IT"].includes(r);return(0,a.jsx)(u.E,{center:!0,position:[0,o?.25:.15,0],style:{pointerEvents:"none",transform:e?"scale(0.9)":"scale(1)",transition:"transform 300ms ease-in-out"},children:(0,a.jsxs)("div",{className:"bg-white/90 backdrop-blur-sm px-2 py-1 rounded-full text-xs font-medium text-gray-700 flex items-center gap-1 transition-all duration-300 ".concat(e?"opacity-30":"opacity-100"),style:{transform:e?"scale(0.9)":"scale(1)",filter:e?"blur(0.8px)":"none",transition:"all 300ms ease-in-out"},children:[(0,a.jsx)("svg",{className:"w-3 h-3 transition-all duration-300 ".concat(e?"opacity-40":"opacity-100"),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),(0,a.jsx)(p.A,{countryCode:r,svg:!0,style:{width:"1em",height:"1em",opacity:e?.4:1,filter:e?"blur(0.8px) saturate(0.8)":"none",transition:"all 300ms ease-in-out"}}),(0,a.jsx)("span",{className:"transition-all duration-300 ".concat(e?"opacity-40":"opacity-100"),children:n})]})})}function b(l){let{language:t,onLocationClick:n,messages:e}=l,r=(0,o.useRef)(null),i=(0,o.useRef)(null),c=(0,o.useRef)(null),[u,h]=(0,o.useState)(null),[p,x]=(0,o.useState)({}),{t:w}=(0,d.Bd)(t),[b,P,v,E]=(0,g.F)(s.Tap,["/images/earth_daymap.jpg","/images/earth_normal.jpg","/images/earth_specular.jpg","/images/earth_clouds.png"]);(0,o.useEffect)(()=>{b&&P&&v&&E&&(b.colorSpace=s.er$,P.colorSpace=s.jf0,v.colorSpace=s.jf0,E.colorSpace=s.er$)},[b,P,v,E]);let C=e.reduce((l,t)=>(t.country&&"NO_COUNTRY"!==t.country&&(l[t.country]=(l[t.country]||0)+1),l),{});return(0,g.C)(l=>{let{clock:t,camera:n}=l;if(i.current&&r.current&&c.current){let l=t.getElapsedTime(),a=.1*Math.sin(.2*l),e=.02*Math.sin(.15*l),o=.02*Math.cos(.1*l);i.current.rotation.y=.04*l+a,i.current.rotation.x=e,i.current.rotation.z=o;let g=.05*l;r.current.rotation.y=g,c.current.rotation.y=g;let u={};Object.entries(C).forEach(l=>{let[t,a]=l,e=S(t);if(!e)return;let r=f(e.lat,e.lng,1.02),o=new s.Pq0().subVectors(n.position,new s.Pq0(0,0,0)).normalize(),g=new s.Pq0().subVectors(r,new s.Pq0(0,0,0)).normalize(),i=o.dot(g);u[t]=i<0}),Object.keys(u).some(l=>u[l]!==p[l])&&x(u)}}),(0,a.jsxs)("group",{children:[(0,a.jsxs)("mesh",{ref:r,children:[(0,a.jsx)("sphereGeometry",{args:[1,64,64]}),(0,a.jsx)("meshPhongMaterial",{map:b,normalMap:P,normalScale:[.5,.5],specularMap:v,shininess:5,bumpMap:P,bumpScale:.05})]}),(0,a.jsxs)("mesh",{ref:i,children:[(0,a.jsx)("sphereGeometry",{args:[1.01,64,64]}),(0,a.jsx)("meshPhongMaterial",{map:E,transparent:!0,opacity:.3,depthWrite:!1,blending:s.EZo})]}),(0,a.jsx)(M,{locations:m}),(0,a.jsxs)("group",{ref:c,children:[Object.entries(m).map(l=>{let[t,e]=l,r=f(e.lat,e.lng,1.01),o=w.locations[t].title;return(0,a.jsx)(j,{position:r,color:e.color,name:t,isHovered:u===t,onClick:()=>null==n?void 0:n(t),onPointerEnter:()=>h(t),onPointerLeave:()=>h(null),tooltipContent:o},t)}),Object.entries(C).map(l=>{let[t,n]=l,e=S(t);if(!e)return null;let r=f(e.lat,e.lng,1.02),o=p[t]||!1;return(0,a.jsx)("group",{position:r,children:(0,a.jsx)(y,{position:r,count:n,isBehind:o,countryCode:t})},"message-".concat(t))})]})]})}function S(l){return({AF:{lat:33.9391,lng:67.71},AL:{lat:41.1533,lng:20.1683},DZ:{lat:28.0339,lng:1.6596},AD:{lat:42.5063,lng:1.5218},AO:{lat:-11.2027,lng:17.8739},AG:{lat:17.0608,lng:-61.7964},AR:{lat:-38.4161,lng:-63.6167},AM:{lat:40.0691,lng:45.0382},AU:{lat:-25.2744,lng:133.7751},AT:{lat:47.5162,lng:14.5501},AZ:{lat:40.1431,lng:47.5769},BS:{lat:25.0343,lng:-77.3963},BH:{lat:26.0667,lng:50.5577},BD:{lat:23.685,lng:90.3563},BB:{lat:13.1939,lng:-59.5432},BY:{lat:53.7098,lng:27.9534},BE:{lat:50.8503,lng:4.3517},BZ:{lat:17.1899,lng:-88.4976},BJ:{lat:9.3077,lng:2.3158},BT:{lat:27.5142,lng:90.4336},BO:{lat:-16.2902,lng:-63.5887},BA:{lat:43.9159,lng:17.6791},BW:{lat:-22.3285,lng:24.6849},BR:{lat:-14.235,lng:-51.9253},BN:{lat:4.5353,lng:114.7277},BG:{lat:42.7339,lng:25.4858},BF:{lat:12.2383,lng:-1.5616},BI:{lat:-3.3731,lng:29.9189},KH:{lat:12.5657,lng:104.991},CM:{lat:7.3697,lng:12.3547},CA:{lat:56.1304,lng:-106.3468},CV:{lat:16.5388,lng:-23.0418},CF:{lat:6.6111,lng:20.9394},TD:{lat:15.4542,lng:18.7322},CL:{lat:-35.6751,lng:-71.543},CN:{lat:35.8617,lng:104.1954},CO:{lat:4.5709,lng:-74.2973},KM:{lat:-11.6455,lng:43.3333},CG:{lat:-.228,lng:15.8277},CR:{lat:9.7489,lng:-83.7534},HR:{lat:45.1,lng:15.2},CU:{lat:21.5218,lng:-77.7812},CY:{lat:35.1264,lng:33.4299},CZ:{lat:49.8175,lng:15.473},DK:{lat:56.2639,lng:9.5018},DJ:{lat:11.8251,lng:42.5903},DM:{lat:15.415,lng:-61.371},DO:{lat:18.7357,lng:-70.1627},EC:{lat:-1.8312,lng:-78.1834},EG:{lat:26.8206,lng:30.8025},SV:{lat:13.7942,lng:-88.8965},GQ:{lat:1.6508,lng:10.2679},ER:{lat:15.1794,lng:39.7823},EE:{lat:58.5953,lng:25.0136},ET:{lat:9.145,lng:40.4897},FJ:{lat:-16.5782,lng:179.4144},FI:{lat:61.9241,lng:25.7482},FR:{lat:46.2276,lng:2.2137},GA:{lat:-.8037,lng:11.6094},GM:{lat:13.4432,lng:-15.3101},GE:{lat:42.3154,lng:43.3569},DE:{lat:51.1657,lng:10.4515},GH:{lat:7.9465,lng:-1.0232},GR:{lat:39.0742,lng:21.8243},GD:{lat:12.1165,lng:-61.679},GT:{lat:15.7835,lng:-90.2308},GN:{lat:9.9456,lng:-9.6966},GW:{lat:11.8037,lng:-15.1804},GY:{lat:4.8604,lng:-58.9302},HT:{lat:18.9712,lng:-72.2852},HN:{lat:15.1999,lng:-86.2419},HU:{lat:47.1625,lng:19.5033},IS:{lat:64.9631,lng:-19.0208},IN:{lat:20.5937,lng:78.9629},ID:{lat:-.7893,lng:113.9213},IR:{lat:32.4279,lng:53.688},IQ:{lat:33.2232,lng:43.6793},IE:{lat:53.1424,lng:-7.6921},IL:{lat:31.0461,lng:34.8516},IT:{lat:41.8719,lng:12.5674},JM:{lat:18.1096,lng:-77.2975},JP:{lat:36.2048,lng:138.2529},JO:{lat:30.5852,lng:36.2384},KZ:{lat:48.0196,lng:66.9237},KE:{lat:-.0236,lng:37.9062},KI:{lat:-3.3704,lng:-168.734},KP:{lat:40.3399,lng:127.5101},KR:{lat:35.9078,lng:127.7669},KW:{lat:29.3117,lng:47.4818},KG:{lat:41.2044,lng:74.7661},LA:{lat:19.8563,lng:102.4955},LV:{lat:56.8796,lng:24.6032},LB:{lat:33.8547,lng:35.8623},LS:{lat:-29.6099,lng:28.2336},LR:{lat:6.4281,lng:-9.4295},LY:{lat:26.3351,lng:17.2283},LI:{lat:47.166,lng:9.5554},LT:{lat:55.1694,lng:23.8813},LU:{lat:49.8153,lng:6.1296},MK:{lat:41.6086,lng:21.7453},MG:{lat:-18.7669,lng:46.8691},MW:{lat:-13.2543,lng:34.3015},MY:{lat:4.2105,lng:101.9758},MV:{lat:3.2028,lng:73.2207},ML:{lat:17.5707,lng:-3.9962},MT:{lat:35.9375,lng:14.3754},MH:{lat:7.1315,lng:171.1845},MR:{lat:21.0079,lng:-10.9408},MU:{lat:-20.3484,lng:57.5522},MX:{lat:23.6345,lng:-102.5528},FM:{lat:7.4256,lng:150.5508},MD:{lat:47.4116,lng:28.3699},MC:{lat:43.7384,lng:7.4246},MN:{lat:46.8625,lng:103.8467},ME:{lat:42.7087,lng:19.3744},MA:{lat:31.7917,lng:-7.0926},MZ:{lat:-18.6657,lng:35.5296},MM:{lat:21.9162,lng:95.956},NA:{lat:-22.9576,lng:18.4904},NR:{lat:-.5228,lng:166.9315},NP:{lat:28.3949,lng:84.124},NL:{lat:52.1326,lng:5.2913},NZ:{lat:-40.9006,lng:174.886},NI:{lat:12.8654,lng:-85.2072},NE:{lat:17.6078,lng:8.0817},NG:{lat:9.082,lng:8.6753},NO:{lat:60.472,lng:8.4689},OM:{lat:21.4735,lng:55.9754},PK:{lat:30.3753,lng:69.3451},PW:{lat:7.515,lng:134.5825},PS:{lat:31.9522,lng:35.2332},PA:{lat:8.538,lng:-80.7821},PG:{lat:-6.315,lng:143.9555},PY:{lat:-23.4425,lng:-58.4438},PE:{lat:-9.19,lng:-75.0152},PH:{lat:12.8797,lng:121.774},PL:{lat:51.9194,lng:19.1451},PT:{lat:39.3999,lng:-8.2245},QA:{lat:25.3548,lng:51.1839},RO:{lat:45.9432,lng:24.9668},RU:{lat:61.524,lng:105.3188},RW:{lat:-1.9403,lng:29.8739},KN:{lat:17.3578,lng:-62.783},LC:{lat:13.9094,lng:-60.9789},VC:{lat:12.9843,lng:-61.2872},WS:{lat:-13.759,lng:-172.1046},SM:{lat:43.9424,lng:12.4578},ST:{lat:.1864,lng:6.6131},SA:{lat:23.8859,lng:45.0792},SN:{lat:14.7167,lng:-17.4677},RS:{lat:44.0165,lng:21.0059},SC:{lat:-4.6796,lng:55.492},SL:{lat:8.4606,lng:-11.7799},SG:{lat:1.3521,lng:103.8198},SK:{lat:48.669,lng:19.699},SI:{lat:46.1512,lng:14.9955},SB:{lat:-9.6457,lng:160.1562},SO:{lat:5.1521,lng:46.1996},ZA:{lat:-30.5595,lng:22.9375},SS:{lat:6.877,lng:31.307},ES:{lat:40.4637,lng:-3.7492},LK:{lat:7.8731,lng:80.7718},SD:{lat:12.8628,lng:30.2176},SR:{lat:3.9193,lng:-56.0278},SE:{lat:60.1282,lng:18.6435},CH:{lat:46.8182,lng:8.2275},SY:{lat:34.8021,lng:38.9968},TW:{lat:23.5505,lng:121.0144},TJ:{lat:38.861,lng:71.2761},TZ:{lat:-6.369,lng:34.8888},TH:{lat:15.87,lng:100.9925},TL:{lat:-8.8742,lng:125.7275},TG:{lat:8.6195,lng:.8248},TO:{lat:-21.179,lng:-175.1982},TT:{lat:10.6918,lng:-61.2225},TN:{lat:33.8869,lng:9.5375},TR:{lat:38.9637,lng:35.2433},TM:{lat:38.9697,lng:59.5563},TV:{lat:-7.1095,lng:177.6493},UG:{lat:1.3733,lng:32.2903},UA:{lat:48.3794,lng:31.1656},AE:{lat:23.4241,lng:53.8478},GB:{lat:55.3781,lng:-3.436},US:{lat:37.0902,lng:-95.7129},UY:{lat:-32.5228,lng:-55.7658},UZ:{lat:41.3775,lng:64.5853},VU:{lat:-15.3767,lng:166.9592},VA:{lat:41.9029,lng:12.4534},VE:{lat:6.4238,lng:-66.5897},VN:{lat:14.0583,lng:108.2772},YE:{lat:15.5527,lng:48.5164},ZM:{lat:-13.1339,lng:27.8493},ZW:{lat:-19.0154,lng:29.1549}})[l]||null}function P(l){let{language:t,onLocationClick:n,messages:e}=l,[r,g]=(0,o.useState)(!1),[s,c]=(0,o.useState)(2.2),[u,d]=(0,o.useState)(60);return(0,o.useEffect)(()=>{g(!0);let l=()=>{let l=window.innerWidth;l<=384?(c(2.8),d(60)):l<=480?(c(2.5),d(50)):l<=640?(c(2.8),d(45)):l<=768?(c(2.5),d(50)):l<=1024?(c(2.3),d(55)):(c(2.2),d(60))};return l(),window.addEventListener("resize",l),()=>window.removeEventListener("resize",l)},[]),(0,a.jsx)("div",{className:"h-[400px] w-full bg-transparent rounded-lg overflow-hidden",children:(0,a.jsxs)(i.Hl,{camera:{position:[0,0,s],fov:u},gl:{alpha:!0,antialias:!0},children:[(0,a.jsx)("color",{attach:"background",args:["#f7fff7"]}),(0,a.jsx)("ambientLight",{intensity:1.5}),(0,a.jsx)("pointLight",{position:[10,10,10],intensity:1.5}),(0,a.jsx)("pointLight",{position:[-10,-10,-10],intensity:.5}),(0,a.jsx)(b,{language:t,onLocationClick:n,messages:e}),(0,a.jsx)(h.N,{enableZoom:!1,enablePan:!1,rotateSpeed:.5,autoRotate:!1,minPolarAngle:0,maxPolarAngle:Math.PI,enableRotate:!0,dampingFactor:.05})]})})}}}]);