"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[578],{578:(e,t,r)=>{r.r(t),r.d(t,{default:()=>v});var n=r(5155),a=r(9137),o=r.n(a),l=r(2115),s=r(3967),i=r(7558),c=r(3264),u=r(6166),d=r(9957),h=r(4688),p=r(7777);let m={korea:{lat:36.3504,lng:127.3845,color:"#ff4d4d"},bolivia:{lat:-16.4897,lng:-68.1193,color:"#4dff4d"},italy:{lat:44.4949,lng:11.3426,color:"#4d4dff"}},x=(e,t,r)=>{let n=Math.PI/180*(90-e),a=Math.PI/180*(t+180),o=-(r*Math.sin(n)*Math.cos(a)),l=r*Math.sin(n)*Math.sin(a),s=r*Math.cos(n);return new c.Pq0(o,s,l)};function f(e){let{locations:t}=e,r=(0,l.useRef)(null),a=(0,l.useRef)(null);(0,s.C)(e=>{let{clock:t}=e;r.current&&(r.current.rotation.y=.05*t.getElapsedTime()),a.current&&(a.current.uniforms.time.value=t.getElapsedTime())});let o=Object.entries(t),i=[];for(let e=0;e<o.length;e++)for(let t=e+1;t<o.length;t++){let r=x(o[e][1].lat,o[e][1].lng,1.01),n=x(o[t][1].lat,o[t][1].lng,1.01);i.push(function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1.01,n=[],a=new c.Pq0().addVectors(e,t).multiplyScalar(.5);a.length(),a.normalize().multiplyScalar(r+.15);for(let o=0;o<=50;o++){let l=o/50,s=new c.Pq0;s.x=Math.pow(1-l,2)*e.x+2*(1-l)*l*a.x+Math.pow(l,2)*t.x,s.y=Math.pow(1-l,2)*e.y+2*(1-l)*l*a.y+Math.pow(l,2)*t.y,s.z=Math.pow(1-l,2)*e.z+2*(1-l)*l*a.z+Math.pow(l,2)*t.z;let i=s.length();s.multiplyScalar(r/i),n.push(s)}return n}(r,n))}let u={uniforms:{time:{value:0},color1:{value:new c.Q1f("#ff4d4d")},color2:{value:new c.Q1f("#4dff4d")},color3:{value:new c.Q1f("#4d4dff")}},vertexShader:"\n      varying vec2 vUv;\n      void main() {\n        vUv = uv;\n        gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n      }\n    ",fragmentShader:"\n      uniform float time;\n      uniform vec3 color1;\n      uniform vec3 color2;\n      uniform vec3 color3;\n      varying vec2 vUv;\n      \n      void main() {\n        float t = mod(time * 0.1, 1.0);\n        vec3 color;\n        \n        if (t < 0.33) {\n          color = mix(color1, color2, t * 3.0);\n        } else if (t < 0.66) {\n          color = mix(color2, color3, (t - 0.33) * 3.0);\n        } else {\n          color = mix(color3, color1, (t - 0.66) * 3.0);\n        }\n        \n        gl_FragColor = vec4(color, 0.7);\n      }\n    "};return(0,n.jsx)("group",{ref:r,children:i.map((e,t)=>(0,n.jsxs)("line",{children:[(0,n.jsxs)("bufferGeometry",{children:[(0,n.jsx)("bufferAttribute",{attach:"attributes-position",count:e.length,array:new Float32Array(e.flatMap(e=>[e.x,e.y,e.z])),itemSize:3}),(0,n.jsx)("bufferAttribute",{attach:"attributes-uv",count:e.length,array:new Float32Array(e.map((t,r)=>[r/(e.length-1),0]).flat()),itemSize:2})]}),(0,n.jsx)("shaderMaterial",{ref:a,attach:"material",args:[u],transparent:!0,linewidth:3})]},t))})}function g(){let{progress:e}=(0,u.p)();return(0,n.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-transparent",children:(0,n.jsxs)("div",{className:"text-gray-700 text-xl",children:["Loading... ",Math.round(e),"%"]})})}function j(e){let{content:t,isBehind:r,isDaejeon:a,onClick:l}=e;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(o(),{id:"6b0b96cc56ab2641",children:"@-webkit-keyframes glow{0%,100%{text-shadow:0 0 10px rgba(239,68,68,.5)}50%{text-shadow:0 0 20px rgba(239,68,68,.8)}}@-moz-keyframes glow{0%,100%{text-shadow:0 0 10px rgba(239,68,68,.5)}50%{text-shadow:0 0 20px rgba(239,68,68,.8)}}@-o-keyframes glow{0%,100%{text-shadow:0 0 10px rgba(239,68,68,.5)}50%{text-shadow:0 0 20px rgba(239,68,68,.8)}}@keyframes glow{0%,100%{text-shadow:0 0 10px rgba(239,68,68,.5)}50%{text-shadow:0 0 20px rgba(239,68,68,.8)}}"}),(0,n.jsx)("div",{onClick:l,className:"jsx-6b0b96cc56ab2641 "+"bg-white p-2 rounded-lg shadow-lg whitespace-nowrap transform transition-all duration-300 cursor-pointer ".concat(r?"opacity-50 scale-90":"opacity-100 scale-100"," ").concat(a?"border-2 border-red-500":""),children:(0,n.jsx)("div",{className:"jsx-6b0b96cc56ab2641 "+"text-sm font-medium ".concat(a?"text-red-500 animate-[glow_2s_ease-in-out_infinite]":"text-gray-800"),children:t})})]})}function w(e){let{position:t,color:r,name:a,isHovered:o,onClick:i,tooltipContent:u,cameraPosition:h}=e,p=(0,l.useRef)(null),m=(0,l.useRef)(null),[x,f]=(0,l.useState)(!1),g="korea"===a;return(0,s.C)(e=>{let{camera:r,clock:n}=e;if(m.current)if(g){let e=1+.3*Math.sin(3*n.getElapsedTime());m.current.scale.setScalar(e)}else m.current.scale.setScalar(1+.1*Math.sin(2*n.getElapsedTime()));let a=new c.Pq0().copy(t),o=new c.Pq0().subVectors(r.position,new c.Pq0(0,0,0)).normalize(),l=new c.Pq0().subVectors(a,new c.Pq0(0,0,0)).normalize();f(0>o.dot(l))}),(0,n.jsxs)("group",{position:t,onClick:i,children:[(0,n.jsxs)("mesh",{ref:p,children:[(0,n.jsx)("sphereGeometry",{args:[.02,16,16]}),(0,n.jsx)("meshBasicMaterial",{color:r})]}),(0,n.jsxs)("mesh",{ref:m,children:[(0,n.jsx)("sphereGeometry",{args:[.03,16,16]}),(0,n.jsx)("meshBasicMaterial",{color:r,transparent:!0,opacity:x?.6:.3})]}),(0,n.jsx)(d.E,{center:!0,position:[0,.1,0],children:(0,n.jsx)(j,{content:u,isBehind:x,isDaejeon:g,onClick:i})})]})}function b(e){let{language:t,onLocationClick:r}=e,a=(0,l.useRef)(null),o=(0,l.useRef)(null),i=(0,l.useRef)(null),[u,d]=(0,l.useState)(null),{t:h}=(0,p.Bd)(t),[g,j,b,v]=(0,s.F)(c.Tap,["/images/earth_daymap.jpg","/images/earth_normal.jpg","/images/earth_specular.jpg","/images/earth_clouds.png"]);return(0,l.useEffect)(()=>{g&&j&&b&&v&&(g.colorSpace=c.er$,j.colorSpace=c.jf0,b.colorSpace=c.jf0,v.colorSpace=c.er$)},[g,j,b,v]),(0,s.C)(e=>{let{clock:t}=e;if(o.current&&a.current&&i.current){let e=t.getElapsedTime(),r=.1*Math.sin(.2*e),n=.02*Math.sin(.15*e),l=.02*Math.cos(.1*e);o.current.rotation.y=.04*e+r,o.current.rotation.x=n,o.current.rotation.z=l;let s=.05*e;a.current.rotation.y=s,i.current.rotation.y=s}}),(0,n.jsxs)("group",{children:[(0,n.jsxs)("mesh",{ref:a,children:[(0,n.jsx)("sphereGeometry",{args:[1,64,64]}),(0,n.jsx)("meshPhongMaterial",{map:g,normalMap:j,normalScale:[.5,.5],specularMap:b,shininess:5,bumpMap:j,bumpScale:.05})]}),(0,n.jsxs)("mesh",{ref:o,children:[(0,n.jsx)("sphereGeometry",{args:[1.01,64,64]}),(0,n.jsx)("meshPhongMaterial",{map:v,transparent:!0,opacity:.3,depthWrite:!1,blending:c.EZo})]}),(0,n.jsx)(f,{locations:m}),(0,n.jsx)("group",{ref:i,children:Object.entries(m).map(e=>{let[t,a]=e,o=x(a.lat,a.lng,1.01),l=h.locations[t].title;return(0,n.jsx)(w,{position:o,color:a.color,name:t,isHovered:u===t,onClick:()=>null==r?void 0:r(t),onPointerEnter:()=>d(t),onPointerLeave:()=>d(null),tooltipContent:l},t)})})]})}function v(e){let{language:t,onLocationClick:r}=e,[a,o]=(0,l.useState)(!1),[s,c]=(0,l.useState)(2.2),[u,d]=(0,l.useState)(60);return((0,l.useEffect)(()=>{o(!0);let e=()=>{let e=window.innerWidth;e<=384?(c(2.8),d(60)):e<=480?(c(2.5),d(50)):e<=640?(c(2.8),d(45)):e<=768?(c(2.5),d(50)):e<=1024?(c(2.3),d(55)):(c(2.2),d(60))};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),a)?(0,n.jsx)("div",{className:"h-[400px] w-full bg-transparent rounded-lg overflow-hidden",children:(0,n.jsx)(l.Suspense,{fallback:(0,n.jsx)(g,{}),children:(0,n.jsxs)(i.Hl,{camera:{position:[0,0,s],fov:u},gl:{alpha:!0,antialias:!0},children:[(0,n.jsx)("color",{attach:"background",args:["transparent"]}),(0,n.jsx)("ambientLight",{intensity:1.5}),(0,n.jsx)("pointLight",{position:[10,10,10],intensity:1.5}),(0,n.jsx)("pointLight",{position:[-10,-10,-10],intensity:.5}),(0,n.jsx)(b,{language:t,onLocationClick:r}),(0,n.jsx)(h.N,{enableZoom:!1,enablePan:!1,rotateSpeed:.5,autoRotate:!1,minPolarAngle:0,maxPolarAngle:Math.PI,enableRotate:!0,dampingFactor:.05})]})})}):(0,n.jsx)("div",{className:"h-[600px] w-full bg-transparent rounded-lg overflow-hidden flex items-center justify-center",children:(0,n.jsx)("div",{className:"text-gray-700 text-xl",children:"Loading..."})})}}}]);