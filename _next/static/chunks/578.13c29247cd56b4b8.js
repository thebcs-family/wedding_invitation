"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[578],{578:(e,t,a)=>{a.r(t),a.d(t,{default:()=>w});var r=a(5155),n=a(9137),s=a.n(n),o=a(2115),i=a(3967),l=a(7558),c=a(3264),d=a(6166),h=a(9957),u=a(4688),p=a(7777);let x={korea:{lat:36.3504,lng:127.3845,color:"#ff4d4d"},bolivia:{lat:-16.4897,lng:-68.1193,color:"#4dff4d"},italy:{lat:44.4949,lng:11.3426,color:"#4d4dff"}},g=(e,t,a)=>{let r=Math.PI/180*(90-e),n=Math.PI/180*(t+180),s=-(a*Math.sin(r)*Math.cos(n)),o=a*Math.sin(r)*Math.sin(n),i=a*Math.cos(r);return new c.Pq0(s,i,o)};function m(){let{progress:e}=(0,d.p)();return(0,r.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-transparent",children:(0,r.jsxs)("div",{className:"text-gray-700 text-xl",children:["Loading... ",Math.round(e),"%"]})})}function f(e){let{content:t,isBehind:a,isDaejeon:n,onClick:o}=e;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s(),{id:"6b0b96cc56ab2641",children:"@-webkit-keyframes glow{0%,100%{text-shadow:0 0 10px rgba(239,68,68,.5)}50%{text-shadow:0 0 20px rgba(239,68,68,.8)}}@-moz-keyframes glow{0%,100%{text-shadow:0 0 10px rgba(239,68,68,.5)}50%{text-shadow:0 0 20px rgba(239,68,68,.8)}}@-o-keyframes glow{0%,100%{text-shadow:0 0 10px rgba(239,68,68,.5)}50%{text-shadow:0 0 20px rgba(239,68,68,.8)}}@keyframes glow{0%,100%{text-shadow:0 0 10px rgba(239,68,68,.5)}50%{text-shadow:0 0 20px rgba(239,68,68,.8)}}"}),(0,r.jsx)("div",{onClick:o,className:"jsx-6b0b96cc56ab2641 "+"bg-white p-2 rounded-lg shadow-lg whitespace-nowrap transform transition-all duration-300 cursor-pointer ".concat(a?"opacity-50 scale-90":"opacity-100 scale-100"," ").concat(n?"border-2 border-red-500":""),children:(0,r.jsx)("div",{className:"jsx-6b0b96cc56ab2641 "+"text-sm font-medium ".concat(n?"text-red-500 animate-[glow_2s_ease-in-out_infinite]":"text-gray-800"),children:t})})]})}function j(e){let{position:t,color:a,name:n,isHovered:s,onClick:l,tooltipContent:d,cameraPosition:u}=e,p=(0,o.useRef)(null),x=(0,o.useRef)(null),[g,m]=(0,o.useState)(!1),j="korea"===n;return(0,i.C)(e=>{let{camera:a,clock:r}=e;if(x.current)if(j){let e=1+.3*Math.sin(3*r.getElapsedTime());x.current.scale.setScalar(e)}else x.current.scale.setScalar(1+.1*Math.sin(2*r.getElapsedTime()));let n=new c.Pq0().copy(t),s=new c.Pq0().subVectors(a.position,new c.Pq0(0,0,0)).normalize(),o=new c.Pq0().subVectors(n,new c.Pq0(0,0,0)).normalize();m(0>s.dot(o))}),(0,r.jsxs)("group",{position:t,onClick:l,children:[(0,r.jsxs)("mesh",{ref:p,children:[(0,r.jsx)("sphereGeometry",{args:[.02,16,16]}),(0,r.jsx)("meshBasicMaterial",{color:a})]}),(0,r.jsxs)("mesh",{ref:x,children:[(0,r.jsx)("sphereGeometry",{args:[.03,16,16]}),(0,r.jsx)("meshBasicMaterial",{color:a,transparent:!0,opacity:g?.6:.3})]}),(0,r.jsx)(h.E,{center:!0,position:[0,.1,0],children:(0,r.jsx)(f,{content:d,isBehind:g,isDaejeon:j,onClick:l})})]})}function b(e){let{language:t,onLocationClick:a}=e,n=(0,o.useRef)(null),s=(0,o.useRef)(null),l=(0,o.useRef)(null),[d,h]=(0,o.useState)(null),{t:u}=(0,p.Bd)(t),[m,f,b,w]=(0,i.F)(c.Tap,["/images/earth_daymap.jpg","/images/earth_normal.jpg","/images/earth_specular.jpg","/images/earth_clouds.png"]);return(0,o.useEffect)(()=>{m&&f&&b&&w&&(m.colorSpace=c.er$,f.colorSpace=c.jf0,b.colorSpace=c.jf0,w.colorSpace=c.er$)},[m,f,b,w]),(0,i.C)(e=>{let{clock:t}=e;if(s.current&&n.current&&l.current){let e=t.getElapsedTime(),a=.1*Math.sin(.2*e),r=.02*Math.sin(.15*e),o=.02*Math.cos(.1*e);s.current.rotation.y=.04*e+a,s.current.rotation.x=r,s.current.rotation.z=o;let i=.05*e;n.current.rotation.y=i,l.current.rotation.y=i}}),(0,r.jsxs)("group",{children:[(0,r.jsxs)("mesh",{ref:n,children:[(0,r.jsx)("sphereGeometry",{args:[1,64,64]}),(0,r.jsx)("meshPhongMaterial",{map:m,normalMap:f,normalScale:[.5,.5],specularMap:b,shininess:5,bumpMap:f,bumpScale:.05})]}),(0,r.jsxs)("mesh",{ref:s,children:[(0,r.jsx)("sphereGeometry",{args:[1.01,64,64]}),(0,r.jsx)("meshPhongMaterial",{map:w,transparent:!0,opacity:.3,depthWrite:!1,blending:c.EZo})]}),(0,r.jsx)("group",{ref:l,children:Object.entries(x).map(e=>{let[t,n]=e,s=g(n.lat,n.lng,1.01),o=u.locations[t].title;return(0,r.jsx)(j,{position:s,color:n.color,name:t,isHovered:d===t,onClick:()=>null==a?void 0:a(t),onPointerEnter:()=>h(t),onPointerLeave:()=>h(null),tooltipContent:o},t)})})]})}function w(e){let{language:t,onLocationClick:a}=e,[n,s]=(0,o.useState)(!1),[i,c]=(0,o.useState)(2.2),[d,h]=(0,o.useState)(60);return((0,o.useEffect)(()=>{s(!0);let e=()=>{let e=window.innerWidth;e<=384?(c(2.8),h(60)):e<=480?(c(2.5),h(50)):e<=640?(c(2.8),h(45)):e<=768?(c(2.5),h(50)):e<=1024?(c(2.3),h(55)):(c(2.2),h(60))};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),n)?(0,r.jsx)("div",{className:"h-[400px] w-full bg-transparent rounded-lg overflow-hidden",children:(0,r.jsx)(o.Suspense,{fallback:(0,r.jsx)(m,{}),children:(0,r.jsxs)(l.Hl,{camera:{position:[0,0,i],fov:d},gl:{alpha:!0,antialias:!0},children:[(0,r.jsx)("color",{attach:"background",args:["transparent"]}),(0,r.jsx)("ambientLight",{intensity:1.5}),(0,r.jsx)("pointLight",{position:[10,10,10],intensity:1.5}),(0,r.jsx)("pointLight",{position:[-10,-10,-10],intensity:.5}),(0,r.jsx)(b,{language:t,onLocationClick:a}),(0,r.jsx)(u.N,{enableZoom:!1,enablePan:!1,rotateSpeed:.5,autoRotate:!1,minPolarAngle:0,maxPolarAngle:Math.PI,enableRotate:!0,dampingFactor:.05})]})})}):(0,r.jsx)("div",{className:"h-[600px] w-full bg-transparent rounded-lg overflow-hidden flex items-center justify-center",children:(0,r.jsx)("div",{className:"text-gray-700 text-xl",children:"Loading..."})})}}}]);