"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[578],{578:(t,e,l)=>{l.r(e),l.d(e,{default:()=>P});var a=l(5155),n=l(9137),r=l.n(n),o=l(2115),s=l(544),i=l(7558),c=l(3264),g=l(8842),u=l(9957),m=l(4688),f=l(7777),h=l(1568);let d={korea:{lat:36.3504,lng:127.3845,color:"#ff4d4d"},bolivia:{lat:-16.4897,lng:-68.1193,color:"#4dff4d"},italy:{lat:44.4949,lng:11.3426,color:"#4d4dff"}},p=t=>{if(t){let t=[{top:"1%",left:"1%"},{top:"1%",right:"1%"},{bottom:"1%",left:"1%"},{bottom:"1%",right:"1%"},{top:"1%",left:"50%"},{top:"1%",right:"50%"},{bottom:"1%",left:"50%"},{bottom:"1%",right:"50%"}];return t[Math.floor(Math.random()*t.length)]}{let t=[{top:"8%",left:"8%"},{top:"8%",right:"8%"},{top:"15%",left:"15%"},{top:"15%",right:"15%"},{bottom:"8%",left:"8%"},{bottom:"8%",right:"8%"},{bottom:"15%",left:"15%"},{bottom:"15%",right:"15%"},{top:"25%",left:"5%"},{top:"25%",right:"5%"},{bottom:"25%",left:"5%"},{bottom:"25%",right:"5%"}];return t[Math.floor(Math.random()*t.length)]}},x=(t,e,l)=>{let a=Math.PI/180*(90-t),n=Math.PI/180*(e+180),r=-(l*Math.sin(a)*Math.cos(n)),o=l*Math.sin(a)*Math.sin(n),s=l*Math.cos(a);return new c.Pq0(r,s,o)},y=(t,e,l,a)=>{let n=(l-t)*Math.PI/180,r=(a-e)*Math.PI/180,o=Math.sin(n/2)*Math.sin(n/2)+Math.cos(t*Math.PI/180)*Math.cos(l*Math.PI/180)*Math.sin(r/2)*Math.sin(r/2);return Math.round(2*Math.atan2(Math.sqrt(o),Math.sqrt(1-o))*6371)};function b(t){let{locations:e}=t,l=(0,o.useRef)(null),n=(0,o.useRef)(null);(0,s.C)(t=>{let{clock:e}=t;l.current&&(l.current.rotation.y=.05*e.getElapsedTime()),n.current&&(n.current.uniforms.time.value=e.getElapsedTime())});let r=Object.entries(e),i=[],u=[];for(let t=0;t<r.length;t++)for(let e=t+1;e<r.length;e++){let l=function(t,e){let l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1.01,a=[],n=new c.Pq0().addVectors(t,e).multiplyScalar(.5);n.length(),n.normalize().multiplyScalar(l+.15);for(let r=0;r<=50;r++){let o=r/50,s=new c.Pq0;s.x=Math.pow(1-o,2)*t.x+2*(1-o)*o*n.x+Math.pow(o,2)*e.x,s.y=Math.pow(1-o,2)*t.y+2*(1-o)*o*n.y+Math.pow(o,2)*e.y,s.z=Math.pow(1-o,2)*t.z+2*(1-o)*o*n.z+Math.pow(o,2)*e.z;let i=s.length();s.multiplyScalar(l/i),a.push(s)}return a}(x(r[t][1].lat,r[t][1].lng,1.01),x(r[e][1].lat,r[e][1].lng,1.01));i.push(l);let a=y(r[t][1].lat,r[t][1].lng,r[e][1].lat,r[e][1].lng),n=new c.B6O(l);u.push({points:l,distance:a,curve:n})}let m={uniforms:{time:{value:0},color1:{value:new c.Q1f("#ff4d4d")},color2:{value:new c.Q1f("#4dff4d")},color3:{value:new c.Q1f("#4d4dff")}},vertexShader:"\n      varying vec2 vUv;\n      void main() {\n        vUv = uv;\n        gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n      }\n    ",fragmentShader:"\n      uniform float time;\n      uniform vec3 color1;\n      uniform vec3 color2;\n      uniform vec3 color3;\n      varying vec2 vUv;\n      \n      void main() {\n        float t = mod(time * 0.1, 1.0);\n        vec3 color;\n        \n        if (t < 0.33) {\n          color = mix(color1, color2, t * 3.0);\n        } else if (t < 0.66) {\n          color = mix(color2, color3, (t - 0.33) * 3.0);\n        } else {\n          color = mix(color3, color1, (t - 0.66) * 3.0);\n        }\n        \n        gl_FragColor = vec4(color, 0.7);\n      }\n    "};return(0,a.jsxs)("group",{ref:l,children:[i.map((t,e)=>(0,a.jsxs)("line",{children:[(0,a.jsxs)("bufferGeometry",{children:[(0,a.jsx)("bufferAttribute",{attach:"attributes-position",count:t.length,array:new Float32Array(t.flatMap(t=>[t.x,t.y,t.z])),itemSize:3}),(0,a.jsx)("bufferAttribute",{attach:"attributes-uv",count:t.length,array:new Float32Array(t.map((e,l)=>[l/(t.length-1),0]).flat()),itemSize:2})]}),(0,a.jsx)("shaderMaterial",{ref:n,attach:"material",args:[m],transparent:!0,linewidth:3})]},e)),u.map((t,e)=>{let{points:l,distance:n,curve:r}=t,o=l[Math.floor(l.length/2)],s=r.getTangent(.5),i=o.clone().normalize(),u=new c.Pq0().crossVectors(s,i).normalize(),m=new c.Pq0().crossVectors(i,u).normalize(),f=new c.kn4;f.makeBasis(m,i,u);let h=new c.PTz().setFromRotationMatrix(f),d=o.clone().normalize().multiplyScalar(1.02),p=n<1e4?[-Math.PI/2,0,Math.PI]:[-Math.PI/2,0,0];return(0,a.jsx)("group",{position:d,quaternion:h,children:(0,a.jsx)(g.E,{position:[0,0,0],rotation:p,fontSize:.08,color:"white",anchorX:"center",anchorY:"middle",outlineWidth:.003,outlineColor:"#000000",outlineBlur:.003,renderOrder:1,children:"".concat(n," km")})},"distance-".concat(e))})]})}function w(t){let{content:e,isBehind:l,isDaejeon:n,onClick:o}=t;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(r(),{id:"6b0b96cc56ab2641",children:"@-webkit-keyframes glow{0%,100%{text-shadow:0 0 10px rgba(239,68,68,.5)}50%{text-shadow:0 0 20px rgba(239,68,68,.8)}}@-moz-keyframes glow{0%,100%{text-shadow:0 0 10px rgba(239,68,68,.5)}50%{text-shadow:0 0 20px rgba(239,68,68,.8)}}@-o-keyframes glow{0%,100%{text-shadow:0 0 10px rgba(239,68,68,.5)}50%{text-shadow:0 0 20px rgba(239,68,68,.8)}}@keyframes glow{0%,100%{text-shadow:0 0 10px rgba(239,68,68,.5)}50%{text-shadow:0 0 20px rgba(239,68,68,.8)}}"}),(0,a.jsx)("div",{onClick:o,className:"jsx-6b0b96cc56ab2641 "+"bg-white p-2 rounded-lg shadow-lg whitespace-nowrap transform transition-all duration-300 cursor-pointer ".concat(l?"opacity-50 scale-90":"opacity-100 scale-100"," ").concat(n?"border-2 border-red-500":""),children:(0,a.jsx)("div",{className:"jsx-6b0b96cc56ab2641 "+"text-sm font-medium ".concat(n?"text-red-500 animate-[glow_2s_ease-in-out_infinite]":"text-gray-800"),children:e})})]})}function M(t){let{position:e,color:l,name:n,isHovered:r,onClick:i,tooltipContent:g,cameraPosition:m}=t,f=(0,o.useRef)(null),h=(0,o.useRef)(null),[d,p]=(0,o.useState)(!1),x="korea"===n;return(0,s.C)(t=>{let{camera:l,clock:a}=t;if(h.current)if(x){let t=1+.3*Math.sin(3*a.getElapsedTime());h.current.scale.setScalar(t)}else h.current.scale.setScalar(1+.1*Math.sin(2*a.getElapsedTime()));let n=new c.Pq0().copy(e),r=new c.Pq0().subVectors(l.position,new c.Pq0(0,0,0)).normalize(),o=new c.Pq0().subVectors(n,new c.Pq0(0,0,0)).normalize();p(0>r.dot(o))}),(0,a.jsxs)("group",{position:e,onClick:i,children:[(0,a.jsxs)("mesh",{ref:f,children:[(0,a.jsx)("sphereGeometry",{args:[.02,16,16]}),(0,a.jsx)("meshBasicMaterial",{color:l})]}),(0,a.jsxs)("mesh",{ref:h,children:[(0,a.jsx)("sphereGeometry",{args:[.03,16,16]}),(0,a.jsx)("meshBasicMaterial",{color:l,transparent:!0,opacity:d?.6:.3})]}),(0,a.jsx)(u.E,{center:!0,position:[0,.1,0],children:(0,a.jsx)(w,{content:g,isBehind:d,isDaejeon:x,onClick:i})})]})}function j(t){let{position:e,count:l,isBehind:n,countryCode:r}=t,o=["KR","BO","IT"].includes(r);return(0,a.jsx)(u.E,{center:!0,position:[0,o?.25:.15,0],style:{pointerEvents:"none",transform:n?"scale(0.9)":"scale(1)",transition:"transform 300ms ease-in-out"},children:(0,a.jsxs)("div",{className:"bg-white/90 backdrop-blur-sm px-2 py-1 rounded-full text-xs font-medium text-gray-700 flex items-center gap-1 transition-all duration-300 ".concat(n?"opacity-30":"opacity-100"),style:{transform:n?"scale(0.9)":"scale(1)",filter:n?"blur(0.8px)":"none",transition:"all 300ms ease-in-out"},children:[(0,a.jsx)("svg",{className:"w-3 h-3 transition-all duration-300 ".concat(n?"opacity-40":"opacity-100"),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),(0,a.jsx)(h.A,{countryCode:r,svg:!0,style:{width:"1em",height:"1em",opacity:n?.4:1,filter:n?"blur(0.8px) saturate(0.8)":"none",transition:"all 300ms ease-in-out"}}),(0,a.jsx)("span",{className:"transition-all duration-300 ".concat(n?"opacity-40":"opacity-100"),children:l})]})})}function v(t){let{message:e,countryCode:l,messageId:n,position:s,delay:i=0,onComplete:c}=t,[g,u]=(0,o.useState)(!1),[m,f]=(0,o.useState)(!1),d=(0,o.useRef)(null),p=(0,o.useRef)(!1),[x,y]=(0,o.useState)(!1),b=(0,o.useRef)({}),w=(0,o.useRef)(Date.now());(0,o.useEffect)(()=>{y(window.innerWidth<=768)},[]);let M=(0,o.useMemo)(()=>{let t=x?2:10;return{top:s.top?"".concat(parseFloat(s.top)+Math.random()*t,"%"):void 0,bottom:s.bottom?"".concat(parseFloat(s.bottom)+Math.random()*t,"%"):void 0,left:s.left?"".concat(parseFloat(s.left)+Math.random()*t,"%"):void 0,right:s.right?"".concat(parseFloat(s.right)+Math.random()*t,"%"):void 0}},[s,x]);(0,o.useEffect)(()=>{if(!p.current)return p.current=!0,w.current=Date.now(),Object.values(b.current).forEach(t=>t&&clearTimeout(t)),b.current.mount=setTimeout(()=>{p.current&&u(!0)},50),b.current.fade=setTimeout(()=>{p.current&&f(!0)},i+3e3),b.current.remove=setTimeout(()=>{p.current&&(u(!1),null==c||c())},i+5e3),()=>{p.current=!1,Object.values(b.current).forEach(t=>t&&clearTimeout(t))}},[n]),(0,o.useEffect)(()=>{},[g,m,n]);let j=e.message.length>(x?80:150)?e.message.substring(0,x?80:150)+"...":e.message;return g?(0,a.jsxs)("div",{ref:d,style:{...M,opacity:+!m,transform:m?"translateY(-20px) scale(0.9)":"translateY(0) scale(1)",transition:"all 0.8s cubic-bezier(0.4, 0, 0.2, 1)",willChange:"opacity, transform",animation:g?"fadeIn 0.8s ease-out":"none"},className:"jsx-8493ec1fe886e270 absolute z-20 pointer-events-none",children:[(0,a.jsx)(r(),{id:"8493ec1fe886e270",children:"@-webkit-keyframes fadeIn{from{opacity:0;-webkit-transform:translatey(20px)scale(.9);transform:translatey(20px)scale(.9)}to{opacity:1;-webkit-transform:translatey(0)scale(1);transform:translatey(0)scale(1)}}@-moz-keyframes fadeIn{from{opacity:0;-moz-transform:translatey(20px)scale(.9);transform:translatey(20px)scale(.9)}to{opacity:1;-moz-transform:translatey(0)scale(1);transform:translatey(0)scale(1)}}@-o-keyframes fadeIn{from{opacity:0;-o-transform:translatey(20px)scale(.9);transform:translatey(20px)scale(.9)}to{opacity:1;-o-transform:translatey(0)scale(1);transform:translatey(0)scale(1)}}@keyframes fadeIn{from{opacity:0;-webkit-transform:translatey(20px)scale(.9);-moz-transform:translatey(20px)scale(.9);-o-transform:translatey(20px)scale(.9);transform:translatey(20px)scale(.9)}to{opacity:1;-webkit-transform:translatey(0)scale(1);-moz-transform:translatey(0)scale(1);-o-transform:translatey(0)scale(1);transform:translatey(0)scale(1)}}"}),(0,a.jsxs)("div",{style:{transition:"all 0.8s cubic-bezier(0.4, 0, 0.2, 1)",opacity:+!m,transform:m?"scale(0.95)":"scale(1)"},className:"jsx-8493ec1fe886e270 bg-white/95 backdrop-blur-sm px-2.5 py-1.5 rounded-md shadow-lg border border-white/20 max-w-[240px]",children:[(0,a.jsxs)("div",{className:"jsx-8493ec1fe886e270 flex items-center gap-1 mb-0.5",children:[(0,a.jsx)(h.A,{countryCode:l,svg:!0,style:{width:"0.8em",height:"0.8em"}}),(0,a.jsx)("span",{className:"jsx-8493ec1fe886e270 font-medium text-gray-800 text-xs",children:e.name})]}),(0,a.jsx)("div",{className:"jsx-8493ec1fe886e270 text-gray-700 leading-snug text-xs whitespace-pre-wrap",children:j})]})]}):null}function S(t){let{language:e,onLocationClick:l,messages:n}=t,r=(0,o.useRef)(null),i=(0,o.useRef)(null),g=(0,o.useRef)(null),[u,m]=(0,o.useState)(null),[h,p]=(0,o.useState)({}),{t:y}=(0,f.Bd)(e),[w,v,S,P]=(0,s.F)(c.Tap,["/images/earth_daymap.jpg","/images/earth_normal.jpg","/images/earth_specular.jpg","/images/earth_clouds.png"]);(0,o.useEffect)(()=>{w&&v&&S&&P&&(w.colorSpace=c.er$,v.colorSpace=c.jf0,S.colorSpace=c.jf0,P.colorSpace=c.er$)},[w,v,S,P]);let T=n.reduce((t,e)=>(e.country&&"NO_COUNTRY"!==e.country&&(t[e.country]=(t[e.country]||0)+1),t),{});return(0,s.C)(t=>{let{clock:e,camera:l}=t;if(i.current&&r.current&&g.current){let t=e.getElapsedTime(),a=.1*Math.sin(.2*t),n=.02*Math.sin(.15*t),o=.02*Math.cos(.1*t);i.current.rotation.y=.04*t+a,i.current.rotation.x=n,i.current.rotation.z=o;let s=.05*t;r.current.rotation.y=s,g.current.rotation.y=s;let u={};Object.entries(T).forEach(t=>{let[e,a]=t,n=E(e);if(!n)return;let r=x(n.lat,n.lng,1.02),o=new c.Pq0().subVectors(l.position,new c.Pq0(0,0,0)).normalize(),s=new c.Pq0().subVectors(r,new c.Pq0(0,0,0)).normalize(),i=o.dot(s);u[e]=i<0}),Object.keys(u).some(t=>u[t]!==h[t])&&p(u)}}),(0,a.jsxs)("group",{children:[(0,a.jsxs)("mesh",{ref:r,children:[(0,a.jsx)("sphereGeometry",{args:[1,64,64]}),(0,a.jsx)("meshPhongMaterial",{map:w,normalMap:v,normalScale:[.5,.5],specularMap:S,shininess:5,bumpMap:v,bumpScale:.05})]}),(0,a.jsxs)("mesh",{ref:i,children:[(0,a.jsx)("sphereGeometry",{args:[1.01,64,64]}),(0,a.jsx)("meshPhongMaterial",{map:P,transparent:!0,opacity:.3,depthWrite:!1,blending:c.EZo})]}),(0,a.jsx)(b,{locations:d}),(0,a.jsxs)("group",{ref:g,children:[Object.entries(d).map(t=>{let[e,n]=t,r=x(n.lat,n.lng,1.01),o=y.locations[e].title;return(0,a.jsx)(M,{position:r,color:n.color,name:e,isHovered:u===e,onClick:()=>null==l?void 0:l(e),onPointerEnter:()=>m(e),onPointerLeave:()=>m(null),tooltipContent:o},e)}),Object.entries(T).map(t=>{let[e,l]=t,n=E(e);if(!n)return null;let r=x(n.lat,n.lng,1.02),o=h[e]||!1;return(0,a.jsx)("group",{position:r,children:(0,a.jsx)(j,{position:r,count:l,isBehind:o,countryCode:e})},"message-".concat(e))})]})]})}function E(t){return({AF:{lat:33.9391,lng:67.71},AL:{lat:41.1533,lng:20.1683},DZ:{lat:28.0339,lng:1.6596},AD:{lat:42.5063,lng:1.5218},AO:{lat:-11.2027,lng:17.8739},AG:{lat:17.0608,lng:-61.7964},AR:{lat:-38.4161,lng:-63.6167},AM:{lat:40.0691,lng:45.0382},AU:{lat:-25.2744,lng:133.7751},AT:{lat:47.5162,lng:14.5501},AZ:{lat:40.1431,lng:47.5769},BS:{lat:25.0343,lng:-77.3963},BH:{lat:26.0667,lng:50.5577},BD:{lat:23.685,lng:90.3563},BB:{lat:13.1939,lng:-59.5432},BY:{lat:53.7098,lng:27.9534},BE:{lat:50.8503,lng:4.3517},BZ:{lat:17.1899,lng:-88.4976},BJ:{lat:9.3077,lng:2.3158},BT:{lat:27.5142,lng:90.4336},BO:{lat:-16.2902,lng:-63.5887},BA:{lat:43.9159,lng:17.6791},BW:{lat:-22.3285,lng:24.6849},BR:{lat:-14.235,lng:-51.9253},BN:{lat:4.5353,lng:114.7277},BG:{lat:42.7339,lng:25.4858},BF:{lat:12.2383,lng:-1.5616},BI:{lat:-3.3731,lng:29.9189},KH:{lat:12.5657,lng:104.991},CM:{lat:7.3697,lng:12.3547},CA:{lat:56.1304,lng:-106.3468},CV:{lat:16.5388,lng:-23.0418},CF:{lat:6.6111,lng:20.9394},TD:{lat:15.4542,lng:18.7322},CL:{lat:-35.6751,lng:-71.543},CN:{lat:35.8617,lng:104.1954},CO:{lat:4.5709,lng:-74.2973},KM:{lat:-11.6455,lng:43.3333},CG:{lat:-.228,lng:15.8277},CR:{lat:9.7489,lng:-83.7534},HR:{lat:45.1,lng:15.2},CU:{lat:21.5218,lng:-77.7812},CY:{lat:35.1264,lng:33.4299},CZ:{lat:49.8175,lng:15.473},DK:{lat:56.2639,lng:9.5018},DJ:{lat:11.8251,lng:42.5903},DM:{lat:15.415,lng:-61.371},DO:{lat:18.7357,lng:-70.1627},EC:{lat:-1.8312,lng:-78.1834},EG:{lat:26.8206,lng:30.8025},SV:{lat:13.7942,lng:-88.8965},GQ:{lat:1.6508,lng:10.2679},ER:{lat:15.1794,lng:39.7823},EE:{lat:58.5953,lng:25.0136},ET:{lat:9.145,lng:40.4897},FJ:{lat:-16.5782,lng:179.4144},FI:{lat:61.9241,lng:25.7482},FR:{lat:46.2276,lng:2.2137},GA:{lat:-.8037,lng:11.6094},GM:{lat:13.4432,lng:-15.3101},GE:{lat:42.3154,lng:43.3569},DE:{lat:51.1657,lng:10.4515},GH:{lat:7.9465,lng:-1.0232},GR:{lat:39.0742,lng:21.8243},GD:{lat:12.1165,lng:-61.679},GT:{lat:15.7835,lng:-90.2308},GN:{lat:9.9456,lng:-9.6966},GW:{lat:11.8037,lng:-15.1804},GY:{lat:4.8604,lng:-58.9302},HT:{lat:18.9712,lng:-72.2852},HN:{lat:15.1999,lng:-86.2419},HU:{lat:47.1625,lng:19.5033},IS:{lat:64.9631,lng:-19.0208},IN:{lat:20.5937,lng:78.9629},ID:{lat:-.7893,lng:113.9213},IR:{lat:32.4279,lng:53.688},IQ:{lat:33.2232,lng:43.6793},IE:{lat:53.1424,lng:-7.6921},IL:{lat:31.0461,lng:34.8516},IT:{lat:41.8719,lng:12.5674},JM:{lat:18.1096,lng:-77.2975},JP:{lat:36.2048,lng:138.2529},JO:{lat:30.5852,lng:36.2384},KZ:{lat:48.0196,lng:66.9237},KE:{lat:-.0236,lng:37.9062},KI:{lat:-3.3704,lng:-168.734},KP:{lat:40.3399,lng:127.5101},KR:{lat:35.9078,lng:127.7669},KW:{lat:29.3117,lng:47.4818},KG:{lat:41.2044,lng:74.7661},LA:{lat:19.8563,lng:102.4955},LV:{lat:56.8796,lng:24.6032},LB:{lat:33.8547,lng:35.8623},LS:{lat:-29.6099,lng:28.2336},LR:{lat:6.4281,lng:-9.4295},LY:{lat:26.3351,lng:17.2283},LI:{lat:47.166,lng:9.5554},LT:{lat:55.1694,lng:23.8813},LU:{lat:49.8153,lng:6.1296},MK:{lat:41.6086,lng:21.7453},MG:{lat:-18.7669,lng:46.8691},MW:{lat:-13.2543,lng:34.3015},MY:{lat:4.2105,lng:101.9758},MV:{lat:3.2028,lng:73.2207},ML:{lat:17.5707,lng:-3.9962},MT:{lat:35.9375,lng:14.3754},MH:{lat:7.1315,lng:171.1845},MR:{lat:21.0079,lng:-10.9408},MU:{lat:-20.3484,lng:57.5522},MX:{lat:23.6345,lng:-102.5528},FM:{lat:7.4256,lng:150.5508},MD:{lat:47.4116,lng:28.3699},MC:{lat:43.7384,lng:7.4246},MN:{lat:46.8625,lng:103.8467},ME:{lat:42.7087,lng:19.3744},MA:{lat:31.7917,lng:-7.0926},MZ:{lat:-18.6657,lng:35.5296},MM:{lat:21.9162,lng:95.956},NA:{lat:-22.9576,lng:18.4904},NR:{lat:-.5228,lng:166.9315},NP:{lat:28.3949,lng:84.124},NL:{lat:52.1326,lng:5.2913},NZ:{lat:-40.9006,lng:174.886},NI:{lat:12.8654,lng:-85.2072},NE:{lat:17.6078,lng:8.0817},NG:{lat:9.082,lng:8.6753},NO:{lat:60.472,lng:8.4689},OM:{lat:21.4735,lng:55.9754},PK:{lat:30.3753,lng:69.3451},PW:{lat:7.515,lng:134.5825},PS:{lat:31.9522,lng:35.2332},PA:{lat:8.538,lng:-80.7821},PG:{lat:-6.315,lng:143.9555},PY:{lat:-23.4425,lng:-58.4438},PE:{lat:-9.19,lng:-75.0152},PH:{lat:12.8797,lng:121.774},PL:{lat:51.9194,lng:19.1451},PT:{lat:39.3999,lng:-8.2245},QA:{lat:25.3548,lng:51.1839},RO:{lat:45.9432,lng:24.9668},RU:{lat:61.524,lng:105.3188},RW:{lat:-1.9403,lng:29.8739},KN:{lat:17.3578,lng:-62.783},LC:{lat:13.9094,lng:-60.9789},VC:{lat:12.9843,lng:-61.2872},WS:{lat:-13.759,lng:-172.1046},SM:{lat:43.9424,lng:12.4578},ST:{lat:.1864,lng:6.6131},SA:{lat:23.8859,lng:45.0792},SN:{lat:14.7167,lng:-17.4677},RS:{lat:44.0165,lng:21.0059},SC:{lat:-4.6796,lng:55.492},SL:{lat:8.4606,lng:-11.7799},SG:{lat:1.3521,lng:103.8198},SK:{lat:48.669,lng:19.699},SI:{lat:46.1512,lng:14.9955},SB:{lat:-9.6457,lng:160.1562},SO:{lat:5.1521,lng:46.1996},ZA:{lat:-30.5595,lng:22.9375},SS:{lat:6.877,lng:31.307},ES:{lat:40.4637,lng:-3.7492},LK:{lat:7.8731,lng:80.7718},SD:{lat:12.8628,lng:30.2176},SR:{lat:3.9193,lng:-56.0278},SE:{lat:60.1282,lng:18.6435},CH:{lat:46.8182,lng:8.2275},SY:{lat:34.8021,lng:38.9968},TW:{lat:23.5505,lng:121.0144},TJ:{lat:38.861,lng:71.2761},TZ:{lat:-6.369,lng:34.8888},TH:{lat:15.87,lng:100.9925},TL:{lat:-8.8742,lng:125.7275},TG:{lat:8.6195,lng:.8248},TO:{lat:-21.179,lng:-175.1982},TT:{lat:10.6918,lng:-61.2225},TN:{lat:33.8869,lng:9.5375},TR:{lat:38.9637,lng:35.2433},TM:{lat:38.9697,lng:59.5563},TV:{lat:-7.1095,lng:177.6493},UG:{lat:1.3733,lng:32.2903},UA:{lat:48.3794,lng:31.1656},AE:{lat:23.4241,lng:53.8478},GB:{lat:55.3781,lng:-3.436},US:{lat:37.0902,lng:-95.7129},UY:{lat:-32.5228,lng:-55.7658},UZ:{lat:41.3775,lng:64.5853},VU:{lat:-15.3767,lng:166.9592},VA:{lat:41.9029,lng:12.4534},VE:{lat:6.4238,lng:-66.5897},VN:{lat:14.0583,lng:108.2772},YE:{lat:15.5527,lng:48.5164},ZM:{lat:-13.1339,lng:27.8493},ZW:{lat:-19.0154,lng:29.1549}})[t]||null}function P(t){let{language:e,onLocationClick:l,messages:n}=t,[r,s]=(0,o.useState)(!1),[c,g]=(0,o.useState)(2.2),[u,f]=(0,o.useState)(60),[h,d]=(0,o.useState)(!1),[x,y]=(0,o.useState)([]),b=(0,o.useRef)(0),w=(0,o.useRef)(),M=(0,o.useRef)(),j=(0,o.useMemo)(()=>n.filter(t=>t.country&&["KR","BO","IT"].includes(t.country)),[n]),E=(t,e)=>e.some(e=>{let l=e.position;return t.top===l.top&&t.left===l.left||t.top===l.top&&t.right===l.right||t.bottom===l.bottom&&t.left===l.left||t.bottom===l.bottom&&t.right===l.right}),P=t=>{let e=p(h),l=0,a=e;for(;E(a,t)&&l<20;)a=p(h),l++;return a};return((0,o.useEffect)(()=>{s(!0),d(window.innerWidth<=768)},[]),(0,o.useEffect)(()=>{if(!r||0===j.length)return;let t=h?3:5,e=h?6e3:5e3,l=h?6e3:5e3,a=()=>{0!==j.length&&y(e=>{let a=Date.now(),n=e.filter(t=>a-t.startTime<l);if(n.length>=t)return n;let r=j[b.current%j.length],o=P(n),s="".concat(r.country,"-").concat(b.current,"-").concat(a);return b.current++,[...n,{message:r,id:s,position:o,startTime:a}]})};a();let n=()=>{setTimeout(a,4e3)};return M.current=setInterval(()=>{a(),n()},e),()=>{M.current&&clearInterval(M.current)}},[r,j,h]),(0,o.useEffect)(()=>{if(r)return w.current=setInterval(()=>{y(t=>{let e=Date.now();return t.filter(t=>e-t.startTime<1e4)})},2e3),()=>{w.current&&clearInterval(w.current)}},[r]),(0,o.useEffect)(()=>{let t=()=>{d(window.innerWidth<=768)};return t(),window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)},[r]),(0,o.useEffect)(()=>{if(!r)return;let t=()=>{let t=window.innerWidth;t<=384?(g(2.8),f(60)):t<=480?(g(2.5),f(50)):t<=640?(g(2.8),f(45)):t<=768?(g(2.5),f(50)):t<=1024?(g(2.3),f(55)):(g(2.2),f(60))};return t(),window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)},[r]),r)?(0,a.jsxs)("div",{className:"h-[500px] w-full bg-transparent rounded-lg overflow-visible relative",children:[(0,a.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,a.jsx)("div",{className:"w-full h-[400px] relative",children:(0,a.jsxs)(i.Hl,{camera:{position:[0,0,c],fov:u},gl:{alpha:!0,antialias:!0},children:[(0,a.jsx)("color",{attach:"background",args:["#f7fff7"]}),(0,a.jsx)("ambientLight",{intensity:1.5}),(0,a.jsx)("pointLight",{position:[10,10,10],intensity:1.5}),(0,a.jsx)("pointLight",{position:[-10,-10,-10],intensity:.5}),(0,a.jsx)(S,{language:e,onLocationClick:l,messages:n}),(0,a.jsx)(m.N,{enableZoom:!1,enablePan:!1,rotateSpeed:.5,autoRotate:!1,minPolarAngle:0,maxPolarAngle:Math.PI,enableRotate:!0,dampingFactor:.05})]})})}),(0,a.jsx)("div",{className:"absolute inset-0 pointer-events-none",children:x.map(t=>(0,a.jsx)(v,{message:t.message,countryCode:t.message.country,messageId:t.id,position:t.position,delay:0,onComplete:()=>{y(e=>e.filter(e=>e.id!==t.id))}},t.id))})]}):(0,a.jsx)("div",{className:"h-[500px] w-full bg-transparent rounded-lg overflow-visible relative",children:(0,a.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,a.jsx)("div",{className:"text-gray-500",children:"Loading globe..."})})})}}}]);